{% comment %} {{ 'section-main-product.css' | asset_url | stylesheet_tag }} {% endcomment %}
{{ '3.builder.css' | asset_url | stylesheet_tag }}

<div class="builder builder--{{ section.settings.media_size }} builder--{{ section.settings.media_position }} product--{{ section.settings.gallery_layout }} builder--mobile-{{ section.settings.mobile_thumbnails }} grid grid--2 grid--1-col-tablet-down">
  <div class="builder__media">
    <epigraph-configurator-lite id="epigraphConfiguratorLite" experience-id="yardsale-ski" disable-default-ui hidden>
      <img
        slot="splash-screen-image"
        style="display:none;"
      >
      <span slot="splash-screen-text"></span>
    </epigraph-configurator-lite>
  </div>
  <div class="builder__info">
    <h1 class="h2">{{ collection.title }}</h1>
    {{ collection.description }}

    <div class="builder__info__forms">
      <input type="radio" name="options" value="both" id="both" checked>
      <label class="button" for="both" data-3d-class="bothPole">Both</label>

      <div>
        {% render 'poles-builder-form', class: 'both' %}
      </div>

      <input type="radio" name="options" value="seperate" id="seperate">
      <label class="button" for="seperate" data-3d-class="leftPole">Customize {% render 'icon-customize' %}</label>

      <div class="builder__info__forms">
        <input type="radio" name="seperate" value="1st" id="1st" checked>
        <label class="button button--underline" for="1st" data-3d-class="leftPole">1st Pole</label>

        <div>
          {% render 'poles-builder-form', class: 'left' %}
        </div>

        <input type="radio" name="seperate" value="2nd" id="2nd">
        <label class="button button--underline" for="2nd" data-3d-class="rightPole">2nd Pole</label>

        <div>
          {% render 'poles-builder-form', class: 'right' %}
        </div>
      </div>
    </div>

    <form action="/cart/add" id="pole-builder" method="post">
      <input type="hidden" name="return_to" value="checkout">
      <button class="button--primary button--full_width" type="submit">Buy now<span id="price">$139.00</span></button>
    </form>

    <center>{{ section.settings.small_text }}</center>

    <hr>

    <aside>
      {{ section.settings.description }}
    </aside>
  </div>
</div>

<script
  type="module"
  src="https://cdn.jsdelivr.net/npm/@epigraph/configurator-lite@1.3.4"
></script>

{% schema %}
{
  "name": "Poles builder",
  "settings": [
    {
      "type": "richtext",
      "id": "description",
      "default": "<p><strong>Reimagined from the tips up:</strong></p><ul><li>7-series aluminum poles with matte coat finish</li><li>Swappable and magnetic handles and baskets</li><li>3D knit strap with premium metal fasteners</li><li>Ice-crushing steel tip</li><li>100% recyclable packaging</li><li>Backed against bends and breaks by our Yardsale Guarantee</li></ul>",
      "label": "Description"
    },
    {
      "type": "richtext",
      "id": "small_text",
      "default": "<p>Free shipping. Taxes calculated at checkout.</p>",
      "label": "Small text"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
